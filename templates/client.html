<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ client.client_name }} - Client Information</title>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(45deg, #E0E0E0, #F5F5F5);
             min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            width: 90%;
            margin: 0 auto; /* Changed the top and bottom margin to 0 */
            background-color: #fff;
            padding: 10px 20px; /* Changed the top and bottom padding to 10px */
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            box-sizing: border-box;
        }

        h1 {
            text-align: center;
             margin-top: 10px;
            margin-bottom: 30px;
            color: #fff;
            font-size: 38px;
            padding: 10px;
            background: linear-gradient(135deg, #3ddad7, #30c5c2);
            border-radius: 15px;
            font-family: 'Work Sans', serif;
            letter-spacing: .5px;
            animation: fall-in 1s ease-out forwards;
        }

        @keyframes fall-in {
        0% {
        transform: translateY(-100%);
        }
        70% {
        transform: translateY(10px);
        }
        100% {
        transform: translateY(0);
        }
        }

        h2 {
            font-size: 28px;
            color: #3ddad7;
            margin-bottom: 20px;
        }

        .section {
            background-color: #f5f5f5;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            transition: 0.3s;
        }

        .fields {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: space-between;
        }

        .field {
            background-color: #fff;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            width: calc(100% - 40px);
            transition: 0.3s;
        }

        .field:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .field-title {
            font-size: 20px;
            font-weight: bold;
            color: #3ddad7;
            margin-bottom: 10px;
            animation: fade-in 1s ease-out forwards;
        }

        .field-value {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
            animation: fade-in 1s ease-out forwards;
        }
        @keyframes fade-in {
        0% {
        opacity: 0;
        }
        100% {
        opacity: 1;
        }
        }
        .agent-name {
            font-size: 28px;
            color: #3ddad7;
            margin-bottom: 20px;
            text-align: right;
        }
        .property-agent-container {
            display: flex;
            justify-content: space-between;
        }
        .label { /* Adjust the color of the property and agent field here */
            color: #3ddad7;

        }

        .data { /* Adjust the color of the property and agent data here */
            color: #747474;
        }

        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px; /* Set the desired height for the container */
            overflow: hidden;
        }

        img.logo {
            width: 420px;
            display: block;
            margin-bottom: 5px;
            object-fit: cover; /* Set the object-fit property to cover */
             animation: fall-in 1s ease-out forwards;
        }

        @media screen and (max-width: 768px) {
            .fields {
        flex-direction: column;
            }

            .field {
        width: calc(100% - 39px);
            }

            .property-agent-container {
        flex-direction: column;
        align-items: center;
            }

            .agent-name {
        text-align: center;
        margin-top: 20px;
            }

            img.logo {
        width: 300px;
            }

            h1 {
        font-size: 28px;
            }
        }
        .notes {
          font-weight: normal;
          font-size: 16px
        }

        .notes-container {
            background-color: #d6eeed; /* You can change this to your desired darker color */
            border: 0.5px solid gray; /* Add a border to the notes container */
            box-shadow: 0 8px 12px rgba(0, 0, 0, 0.2); /* Add a box-shadow to the notes container */
            padding: 20px;
            margin-bottom: 20px;
        }
        .notes-title {
            font-family: 'calibri', sans-serif;
            font-size: 20px;
            font-weight: bold;
            color: black;
            margin-bottom: 10px;
        }
        footer {
            background-color: #f7f7f7;
            padding: 20px;
            text-align: center;
        }

        footer small {
            font-size: 12px;
            color: #666;
        }

    </style>
</head>

<body>
    <div class="container">
        <div class="logo-container"> <img src="{{ url_for('static', filename='OG_Logo_Black.PNG') }}" alt="Logo" class="logo"> </div>
        <h1>Status Report for {{ client.client_name }}</h1> {% for property in client.properties %} {% if property.uuid == desired_property_uuid %} <section class="section">
            <div class="property-agent-container">
                <h2><span class="label">Property:</span> <span class="data">{{ property.street_address }}</span></h2>
                <h2 class="agent-name"><span class="label">Agent:</span> <span class="data">{{ client.agent_name }}</span></h2>
            </div>
            <div class="field">
                <div class="field-title">Option Period Expires:</div>
                <div class="field-value">{{ property.option_period_expires|date if property.option_period_expires else 'Not Scheduled' }}</div>
                <div class="field-description"> {% if property.property_type == 'Seller' %} <ul>
                        <li>The option period is a set amount of time during which the buyer typically has the home inspected and makes sure that everything is in acceptable condition for them to move forward.</li> <br>
                        <li>During the option period, the buyer has the right to back out of the contract, request repairs, renegotiate price, or ask for you to contribute money towards repairs or closing costs.</li> <br>
                        <li>If the buyer chooses to continue with the purchase after this option period is over, they’re generally locked into the contract (with a few exceptions) and might lose their earnest money deposit if they do not close on your property.</li>
                    </ul> {% elif property.property_type == 'Buyer' %} <ul>
                        <li>The option period is a set amount of time during which buyers typically have the home inspected and make sure that everything is in acceptable condition for you to move forward with your purchase.</li><br>
                        <li>During the option period, you have the right to back out of the contract, request repairs, renegotiate price, or ask the seller to contribute money towards repairs or closing costs.</li><br>
                        <li>If you choose to continue with the purchase after this option period is over, you’re generally locked into the contract (with a few exceptions) and might lose your earnest money deposit if you do not close on the property. </li><br>
                    </ul> {% endif %} </div>
            </div>
            <div class="field">
                <div class="field-title">Survey Info & Due Date:</div>
                <div class="field-value" id="surveyProvidedBy">{{ property.survey_provided_by }} - Due Date: {{ property.survey_due_date|date if property.survey_due_date else 'Not Scheduled' }}</div>
                <div class="field-description" id="fieldDescription"></div>
            </div>
            <div class="field">
                <div class="field-title">Buyer Financing Deadline:</div>
                <div class="field-value">{{ property.buyer_financing_deadline|date if property.buyer_financing_deadline else 'Not Scheduled' }}</div>
                <div class="field-description"> {% if property.property_type == 'Seller' %} <ul>
                        <li>The financing deadline is the date by which the buyer is required to obtain a final loan approval from their lender. If the lender determines after this deadline that they cannot finance the loan, the buyer may lose their earnest money deposit.</li>
                    </ul> {% elif property.property_type == 'Buyer' %} <ul>
                        <li>The financing deadline is the date by which you must obtain final loan approval from your lender, to protect your earnest money deposit. If the lender denies your loan after this deadline, you might lose your earnest money deposit.</li><br>
                        <li><strong>It’s essential to work with your lender and make sure that you get them all of the documents and information that they need for your file so that you can obtain this final loan approval before the financing deadline.</strong></li><br>
                    </ul> {% endif %} </div>
            </div>
            <div class="field">
                <div class="field-title">Appraisal Date:</div>
                <div class="field-value">{{ property.appraisal|date if property.appraisal else 'Not Scheduled' }}</div>
                <div class="field-description"> {% if property.property_type == 'Seller' %} <ul>
                        <li>This is the date that the appraiser has scheduled to come and view your home (or property) to complete the appraisal report.</li> <br>
                        <li>The lender uses this appraisal to make sure that they are not lending more than the property is worth. If the appraisal values your property for the sales price or more, that’s great news and we’ll move forward towards closing.</li> <br>
                        <li>If the appraisal values the property for less than the sales price, we may need to renegotiate. The buyer may ask to renegotiate the sales price, pay the difference in the low value and sales price in cash, or terminate the contract.</li>
                    </ul> {% elif property.property_type == 'Buyer' %} <ul>
                        <li>This is the date that the appraiser has scheduled to come and view the home (or property) to complete the appraisal report.</li> <br>
                        <li>The lender uses this appraisal to make sure that they are not lending more than the property is worth. If the appraisal values the property for the sales price or more, that’s great news and we’ll move forward towards closing.</li> <br>
                        <li>If the appraisal values the property for less than the sales price, we may need to renegotiate. You may ask to renegotiate the sales price, pay the difference in the low value and sales price in cash, or terminate the contract and receive a refund of your earnest money deposit. </li>
                    </ul> {% endif %} </div>
            </div>
            <div class="field">
                <div class="field-title">Agreed Upon Repairs:</div>
                <div class="field-value">{{ property.agreed_upon_repairs|date if property.agreed_upon_repairs else 'Not Scheduled' }}</div>
                <div class="field-description"> {% if property.property_type == 'Seller' %} <ul>
                        <li>If you agreed to make any repairs to the property, they must be done, at a minimum, by the closing date. <strong>It’s a good idea to start working on and completing these repairs well in advance of closing, to avoid any potential delays.</strong></li> <br>
                        <li>Unless otherwise agreed to in writing, the contract requires that repairs be made by someone licensed to complete that repair. Ex: You must hire a licensed electrician to make electrical repairs.</li> <br>
                        <li>If no license is required for the type of repair that was agreed to, the repair must be made by someone commercially engaged in that type of repair. Ex: If woodwork needs to be repaired or replaced, you might use a professional handyman.</li> <br>
                        <li>Keep receipts and reports for any of the repairs you have made to provide a copy to the buyer.</li>
                    </ul> {% elif property.property_type == 'Buyer' %} <ul>
                        <li>If the seller agreed to make any repairs to the property, they must be completed by the closing date.</li> <br>
                    </ul> {% endif %} </div>
            </div>
            <div class="field">
                <div class="field-title">Buyer Final Walkthrough:</div>
                <div class="field-value">{{ property.buyer_final_walkthrough|date if property.buyer_final_walkthrough else 'Not Scheduled' }}</div>
                <div class="field-description"> {% if property.property_type == 'Seller' %} <ul>
                        <li>Buyers usually do one last final walk-through of the home before closing to make sure that it is in the same condition that they agreed to purchase it in.</li> <br>
                        <li>They’ll check to make sure that appliances, permanent or temporary fixtures that are supposed to included in the sale are still present. They’ll also make sure that any repairs that were agreed upon have been made.</li> <br>
                        <li><strong>It’s important to have the home in clean condition before the final walk-through to avoid any issues or delays.</strong></li>
                    </ul> {% elif property.property_type == 'Buyer' %} <ul>
                        <li>Buyers usually do one last final walk-through of the home before closing to make sure that it is in the same condition that you agreed to purchase it in.</li> <br>
                        <li>At the walk-through, we'll check to make sure that appliances, permanent or temporary fixtures that are supposed to included in the sale are still present. We'll also make sure that any repairs that were agreed upon have been made.</li>
                    </ul> {% endif %} </div>
            </div>
            <div class="field">
                <div class="field-title">Closing Date:</div>
                <div class="field-value">{{ property.closing_date|date if property.closing_date else 'Not Scheduled' }}</div>
                <div class="field-description"> {% if property.property_type == 'Seller' %} <ul>
                        <li>This is the day we've all been waiting for! The closing is scheduled to happen on or before this date.</li> <br>
                        <li>Occasionally, the parties to a transaction will agree to extend the closing date due to lending or other delays, but currently, this is the agreed upon closing date.</li> <br>
                        <li>For closing, <strong>please remember to bring your photo ID</strong> and a voided check or account information for the account that you would like your proceeds to be wired to.</li>
                    </ul> {% elif property.property_type == 'Buyer' %} <ul>
                        <li>This is the day we've all been waiting for! The closing is scheduled to happen on or before this date.</li> <br>
                        <li>Occasionally, the parties to a transaction will agree to extend the closing date due to lending or other delays, but currently, this is the agreed upon closing date.</li> <br>
                        <li>For closing, <strong>please remember to bring your photo ID.</strong></li>
                    </ul> {% endif %} </div>
            </div> {% if property.notes %} <div class="field notes-container">
                <div class="notes-title">Notes:</div>
                <div class="field-value notes" style="white-space: pre-line;">{{ property.notes }}</div>
            </div> {% endif %}
        </section> {% endif %} {% endfor %}
    </div>
    <script>
        function updateDescription() {
            const surveyProvidedBy = document.getElementById('surveyProvidedBy').textContent.trim();
            const propertyType = '{{ property.property_type }}';
            let description = '';

            if (propertyType == 'Buyer') {
        if (surveyProvidedBy.includes('Seller New')) {
            description = "<ul><li>In the contract, the seller has agreed to purchase a new survey. The new survey is due by this date.</li></ul>";
        } else if (surveyProvidedBy.includes('Seller Existing')) {
            description = "<ul><li>In the contract, the seller has agreed to provide their existing survey of the property. They must provide the survey by this date.</li></ul>";
        } else if (surveyProvidedBy.includes('Buyer New')) {
            description = "<ul><li>In the contract, you've agreed to purchase a new survey. We will coordinate with the title company to order the survey. The new survey is due by this date.</li></ul>";
        } else if (surveyProvidedBy.includes('Survey Not Required')) {
            description = "<ul><li>A survey is not required.</li></ul>";
        }
            } else {
        if (surveyProvidedBy.includes('Seller New')) {
            description = "<ul><li>In the contract, you've agreed to purchase a new survey. We will coordinate with the title company to order the survey. The new survey is due to the buyer by this date.</li></ul>";
        } else if (surveyProvidedBy.includes('Seller Existing')) {
            description = "<ul><li>In the contract, you've agreed to provide your existing survey of the property. We must provide the survey to the buyer and the title company by this date.</li></ul>";
        } else if (surveyProvidedBy.includes('Buyer New')) {
            description = "<ul><li>In the contract, the buyer has agreed to purchase a new survey. The new survey is due by this date.</li></ul>";
        } else if (surveyProvidedBy.includes('Survey Not Required')) {
            description = "<ul><li>A survey is not required.</li></ul>";
        }
            }

            document.getElementById('fieldDescription').innerHTML = description;
        }

        updateDescription();
    </script>
    <footer> <small>Legal Disclosure: Anything you see here is just for your damn convenience, we are not lawyers.</small> </footer>
</body>

</html>